<%- await include('templates/header.ejs') %>

<div class="container">
	<div class="row">
		<h2> Estudiantes </h2>
		<a href="/crear_estudiante">Crear estudiante</a>
		<table class="table table-striped">
			<thead>
				<form method="get">
					<% if (programa !== null) { %>
					<input type="hidden" name="programa" value="<%= programa %>">
					<% } %>
				<tr>
					<th>
						<button class="btn btn-link" type="submit" name="order" value="estudiante.id">
							id
						</button>
					</th>
					<th>
						<button class="btn btn-link" type="submit" name="order" value="estudiante.nombre">
							nombre
						</button>
					</th>
					<th>
						<button class="btn btn-link" type="submit" name="order" value="correo">
							correo
						</button>
					</th>
					<th>
						<button class="btn btn-link" type="submit" name="order" value="promedio">
							promedio
						</button>
					</th>
					<th>
						<button class="btn btn-link" type="submit" name="order" value="programa">
							programa
						</button>
					</th>
					<th> acciones </th>
				</tr>
				</form>
			</thead>
			<tbody>
				<% for (const estudiante of estudiantes) { %>
				<tr>
					<td><%= estudiante.id %></td>
					<td><%= estudiante.nombre %></td>
					<td><%= estudiante.correo %></td>
					<td><%= estudiante.promedio %></td>
					<td><%= estudiante.programa %></td>
					<td><a href="/estudiante/<%= estudiante.id %>">editar</a></td>
				</tr>
				<% } %>
			</tbody>
			<tfoot>
				<tr>
					<th colspan="3" align="right" style="text-align: right">
						Promedio de los promedios:
					</th>
					<td>
						<%= promedio %>
					</td>
					<td colspan="2">
						
					</td>
				</tr>
			</tfoot>
		</table>
	</div>
</div>
<%- await include('templates/footer.ejs') %>
